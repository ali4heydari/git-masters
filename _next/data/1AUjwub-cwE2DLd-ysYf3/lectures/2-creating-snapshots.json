{"pageProps":{"lecture":{"title":"Creating snapshots","releaseDate":"2021-10-11T18:15:00","slug":"2-creating-snapshots","author":"Ali Heydari","content":"<h2>Git workflow</h2>\n<p><img src=\"https://git-scm.com/book/en/v2/images/deltas.png\" alt=\"Storing data as changes to a base version of each file\" title=\"Storing data as changes to a base version of each file\"></p>\n<p><img src=\"https://git-scm.com/book/en/v2/images/snapshots.png\" alt=\"Storing data as snapshots of the project over time\" title=\"Storing data as snapshots of the project over time\"></p>\n<p><img src=\"https://git-scm.com/book/en/v2/images/lifecycle.png\" alt=\"The lifecycle of the status of your files\" title=\"The lifecycle of the status of your files\"></p>\n<h2>Staging files</h2>\n<h3><code>git add</code></h3>\n<ol>\n<li><code>git add file1.js file2.js</code>: adding multiple file with oneline command</li>\n<li><code>git add package*</code>: adding files with wildcard</li>\n<li><code>git add -f index.js</code>: allow adding otherwise ignored files</li>\n<li><code>git add .</code>: add all file in current and subdirectory recursivly.</li>\n</ol>\n<h2>Committing changes</h2>\n<ol>\n<li><code>git commit</code></li>\n<li><code>git commit -m \"Initial commit\"</code></li>\n</ol>\n<h2>Committing best practices</h2>\n<p>links: <a href=\"https://www.perforce.com/blog/vcs/git-best-practices-git-commit\">5 Git Best Practices For Git Commit</a>,\n<a href=\"https://www.conventionalcommits.org/en/v1.0.0/\">Conventional Commits</a></p>\n<h2>Skipping the staging area</h2>\n<p><code>git commit -a</code></p>\n<h2>Removing files</h2>\n<ol>\n<li><code>rm</code> vs <code>git rm</code></li>\n</ol>\n<p>using <code>rm</code>:</p>\n<div><pre><code>$<span> </span><span>rm</span><span> </span>pankod-icon.svg<span></span>\n<span></span>$<span> </span><span>git</span><span> </span>status<span></span>\n<span></span>On<span> </span>branch<span> </span>main<span></span>\n<span></span>Changes<span> </span>not<span> </span>staged<span> </span><span>for</span><span> </span>commit:<span></span>\n<span></span><span> </span><span> </span><span>(</span>use<span> </span><span>\"git<span> </span>add/rm<span> </span>&#x3C;file>...\"</span><span> </span>to<span> </span>update<span> </span>what<span> </span>will<span> </span>be<span> </span>committed<span>)</span><span></span>\n<span></span><span> </span><span> </span><span>(</span>use<span> </span><span>\"git<span> </span>restore<span> </span>&#x3C;file>...\"</span><span> </span>to<span> </span>discard<span> </span>changes<span> </span><span>in</span><span> </span>working<span> </span>directory<span>)</span><span></span>\n<span></span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span>deleted:<span> </span><span> </span><span> </span><span> </span>pankod-icon.svg<span></span>\n<span></span><span></span>\n<span></span>no<span> </span>changes<span> </span>added<span> </span>to<span> </span>commit<span> </span><span>(</span>use<span> </span><span>\"git<span> </span>add\"</span><span> </span>and/or<span> </span><span>\"git<span> </span>commit<span> </span>-a\"</span><span>)</span><span></span>\n<span></span>$<span> </span><span>git</span><span> </span><span>add</span><span> </span>pankod-icon.svg<span></span>\n<span></span>$<span> </span><span>git</span><span> </span>status<span></span>\n<span></span>On<span> </span>branch<span> </span>main<span></span>\n<span></span>Changes<span> </span>to<span> </span>be<span> </span>committed:<span></span>\n<span></span><span> </span><span> </span><span>(</span>use<span> </span><span>\"git<span> </span>restore<span> </span>--staged<span> </span>&#x3C;file>...\"</span><span> </span>to<span> </span>unstage<span>)</span><span></span>\n<span></span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span>deleted:<span> </span><span> </span><span> </span><span> </span>pankod-icon.svg<span></span>\n<span></span><span></span>\n<span></span>\n</code></pre></div>\n<p>using <code>git rm</code>:</p>\n<div><pre><code>$<span> </span><span>git</span><span> </span><span>rm</span><span> </span><span> </span>pankod-icon.svg<span></span>\n<span></span><span>rm</span><span> </span><span>'public/icons/pankod-icon.svg'</span><span></span>\n<span></span><span></span>\n<span></span>$<span> </span><span>git</span><span> </span>status<span></span>\n<span></span>On<span> </span>branch<span> </span>main<span></span>\n<span></span>Changes<span> </span>to<span> </span>be<span> </span>committed:<span></span>\n<span></span><span> </span><span> </span><span>(</span>use<span> </span><span>\"git<span> </span>restore<span> </span>--staged<span> </span>&#x3C;file>...\"</span><span> </span>to<span> </span>unstage<span>)</span><span></span>\n<span></span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span>deleted:<span> </span><span> </span><span> </span><span> </span>pankod-icon.svg<span></span>\n<span></span><span></span>\n<span></span>\n</code></pre></div>\n<ol start=\"2\">\n<li><code>git rm packages/*</code></li>\n<li><code>git rm --cached</code>: only remove from the index</li>\n<li><code>git ls-files</code></li>\n</ol>\n<h2>Renaming or moving files</h2>\n<ol>\n<li><code>mv</code> vs <code>git mv</code></li>\n<li><code>git mv index.js index.ts</code></li>\n</ol>\n<h2>Ignoring files</h2>\n<p>add gitignore file &#x3C;gitignore.io></p>\n<div><pre><code>$ git add .gitignore</code></pre></div>\n<blockquote>\n<p>How can I make Git \"forget\" about a file that was tracked, but is now in .gitignore?</p>\n<blockquote>\n<p>run command: <code>git rm --catched &#x3C;file_or_directory_or_pattern></code></p>\n<p>Also you can add <code>.gitignore</code> and run the following command:</p>\n<p><code>git rm --cached -r . &#x26;&#x26; git add . &#x26;&#x26; git commit -m \"track files in right way\"</code></p>\n</blockquote>\n</blockquote>\n<h2>Short status</h2>\n<p><code>git status -s</code></p>\n<p>left column in output represents the staging aria</p>\n<p>right column in output represents the working directory</p>\n<div><pre><code>$<span> </span><span>git</span><span> </span>status<span> </span>-s<span></span>\n<span></span><span> </span>M<span> </span>_markdowns/_lectures/2-creating-snapshots.md<span></span>\n<span></span><span></span>\n<span></span>$<span> </span><span>git</span><span> </span><span>add</span><span> </span><span>.</span><span></span>\n<span></span><span></span>\n<span></span>$<span> </span><span>git</span><span> </span>status<span> </span>-s<span></span>\n<span></span>M<span> </span><span> </span>_markdowns/_lectures/2-creating-snapshots.md<span></span>\n<span></span>\n</code></pre></div>\n<h2>Viewing staged and unstaged changes</h2>\n<h3><code>git diff --staged</code></h3>\n<p>meanig of git diff output</p>\n<h2>Visual diff tools</h2>\n<p>use VSCode add default diff tool:</p>\n<div><pre><code>$<span> </span><span>git</span><span> </span>config<span> </span>--global<span> </span>diff.tool<span> </span>vscode<span></span>\n<span></span>$<span> </span><span>git</span><span> </span>config<span> </span>--global<span> </span>difftool.vscode.cmd<span> </span><span>\"code<span> </span>--wait<span> </span>--diff<span> </span><span>$LOCAL</span><span> </span><span>$REMOTE</span>\"</span>\n</code></pre></div>\n<p>see git config settings:</p>\n<p><code>git config --global -e</code></p>\n<h2>Viewing history</h2>\n<h3><code>git log</code></h3>\n<p><code>git log --oneline</code></p>\n<p><code>git log --oneline --reverse</code></p>\n<h2>Viewing a commit</h2>\n<h3><code>git show</code></h3>\n<ol>\n<li><code>git show COMMIT_SHA</code></li>\n<li><code>git show HEAD</code></li>\n<li><code>git show HEAD^^</code></li>\n<li><code>git show HEAD~2</code></li>\n<li><code>git show HEAD~2:.gitignore</code></li>\n<li><code>git show HEAD~2:src/index.ts</code></li>\n<li><code>git ls-tree HEAD~3</code></li>\n</ol>\n<h3>Git objects</h3>\n<ol>\n<li>commits</li>\n<li>blobs (files)</li>\n<li>trees (directories)</li>\n<li>tags</li>\n</ol>\n<h2>Unstaging files</h2>\n<p><code>git reset --hard</code></p>\n<p><code>git restore</code></p>\n<p><code>git restore --staged index.js</code></p>\n<h2>Discarding local changes</h2>\n<p><code>git restore .</code></p>\n<p><code>git clean</code></p>\n<p><code>git clean -fd</code></p>\n<h2>Restoring a file to an earlier version</h2>\n<p><code>git restore --source=HEAD~1 index.js</code></p>\n<hr>\n<p>Attachments:\n[session video ðŸ“º](\\\\192.168.100.14\\Training Courses\\git)</p>\n","ogImage":"/git-masters/images/areas.png","coverImage":"/git-masters/images/areas.png","tags":["lecture"]}},"__N_SSG":true}